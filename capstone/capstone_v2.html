<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Ice Age Deglaciation in the Pacific Northwest</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>


<style>
#map {
    position: fixed;
    width:75%;
}
#features {
    width: 25%;
    margin-left: 75%;
    font-family: sans-serif;
    overflow-y: scroll;
    background-color: #fafafa;
}
section {
    padding:  25px 50px;
    line-height: 25px;
    border-bottom: 1px solid #ddd;
    opacity: 0.25;
    font-size: 16px;
}
section.active {
    opacity: 1;
}
section:last-child {
    border-bottom: none;
    margin-bottom: 200px;
}
</style>

<div id='map'></div>
<div id='features'>
    <section id='lgm-18000' class='active'>
        <h3>Introduction</h3>
        <p>The topography, climate, and vegetation of the Pacific Northwest, its fjords, inland waterways and islands, are a result of an extended period of glaciation and glacial retreat. This retreat influenced the physical features and the resulting succession of vegetation that led to the landscape we see today. This tool takes the user through an interpretive, interactive journey of the deglaciation events.</p>
    </section>
    <section id='lgm-18000' class='active'>
        <h3>18,000 Years BCE</h3>
        <p>The Cordilleran Ice sheet covers the majority of British Columbia, and is connected to the Western Laurentide over the Canadian Rockies.</p>
    </section>
    <section id='lgm-17500'>
        <h3>17,500 Years BCE</h3>
        <p>Seams between the Cordilleran ice sheet and the Western Laurentide sheet appear in the northern part of what is now British Columbia and Alberta.</p>
    </section>
    <section id='lgm-17000'>
        <h3>17,000 Years BCE</h3>
        <p>The southern end of the Cordilleran moves south during a period of glacial growth.</p>
    </section>
    <section id='lgm-16500'>
        <h3>16,500 Years BCE</h3>
        <p>Both the Cordilleran and the Laurentide continue southern movment, pushing further into eastern Washington state.</p>
    </section>
    <section id='lgm-16000'>
        <h3>16,000 Years BCE</h3>
        <p>The southern boundary of the Cordilleran Ice Sheet continues to grow, and around this time it is believed to have reached its greatest extent - between approximately 2,741,591 and 2,749,954 sq. kilometers.</p>
    </section>
    <section id='lgm-15500'>
        <h3>15,500 Years BCE</h3>
        <p>Glacial Lake Columbia, another ice-dammed lake forms in this peris west of Glacial Lake Missoula. Occasional dam breaks result in floods that scour Eastern Washington.</p>
    </section>
    <section id='lgm-15000'>
        <h3>15,000 Years BCE</h3>
        <p>A large portion of the Cordilleran extends into what is today known as the Puget Sound. This formation is called the Puget Lobe. Glacial dams on the Southeast extent of the Cordilleran break allow meltwater to accumulate, forming Glacial Lake Missoula.</p>
    </section>
    <section id='lgm-14500'>
        <h3>14,500 Years BCE</h3>
        <p>The puget lobe reaches its fartherst southern extent, and its erroding features create the inland waterway that becomes known as the Puget Sound.</p>
    </section>
    <section id='lgm-14000'>
        <h3>14,000 Years BCE</h3>
        <p>A sliver of land is opened as the western Laurentide ice sheet grows apart from the Cordilleran. Multiple glacial lakes form from the meltwater.</p>
    </section>
    <section id='lgm-13500'>
        <h3>13,500 Years BCE</h3>
        <p>Significant temperatures and climatic conditions accelerate the loss of glacial material, and the Puget Lobe melts. A gap between the Cordilleran and Laurentide sheets widen as they move away from each other.</p>
    </section>
    <section id='lgm-13000'>
        <h3>13,000 Years BCE</h3>
        <p>This gap continues to widen as the Cordilleran undergoes its most significant period of deglaciation. It lost approximately 700,000 sq. kilometers over the thousand years between 13,000 BCE and 12,000 BCE.</p>
    </section>
    <section id='lgm-12500'>
        <h3>12,500 Years BCE</h3>
        <p>At this time, the western Laurentide has become fully separated from the Cordilleran, opening a corridor of land between the two ice sheets. It is theorized that the first human visitors to North America may have used this route (alongside coastal routes) to access the continent's interior.</p>
    </section>
    <section id='lgm-12000'>
        <h3>12,000 Years BCE</h3>
        <p>The interior where the Cordilleran and Laurentid have separated is inundated with meltwater lakes.</p>
    </section>
    <section id='lgm-11500'>
        <h3>11,500 Years BCE</h3>
        <p>Deglaciation trends continue, with increased separation, retreat and meltwater features.</p>
    </section>
    <section id='lgm-11000'>
        <h3>11,000 Years BCE</h3>
        <p>The Cordilleran has lost a significant amount of material, opening more land for migration, and creating more lakes and eroding features.</p>
    </section>
    <section id='lgm-10500'>
        <h3>10,500 Years BCE</h3>
        <p>Material is lost at an increasing rate, and the Cordilleran is fully isolated from the Western Laurentide. The large glacial meltwater lakes between the two become scarce and begin to disappear. The landscape increasingly appears to resemble what is seen today.</p>
    </section>
    <section id='lgm-10000'>
        <h3>10,000 Years BCE</h3>
        <p><br><br>The Cordilleran ice sheet has undergone a significant loss of material. It has an approximate 500,000 square kilometers of disconnected glacial material remaining, mostly focused in the Coast and Rocky mountains.</p>
    </section>
    <section id='Outro'>
        <h3>The landscape we see today</h3>
        <p>The landscape we see today was directly influenced by these series of growth and retreat. It is what gives this region its geographic and biological diversity, and these great changes were a result of climatic factors. This landscape can still change further.
</div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiaGFyb2giLCJhIjoiY2pvNmpneXhyMGx2ZTNwcXFzYzFzdm52dCJ9.zTx9hlyiDL0--qvBqDUuRw';

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/haroh/cjy5d99m104321cqfma1nt627',
    center: [-122.335167, 47.608013],
    zoom: 3,
    bearing: 0,
    pitch: 45
});

//18000 BCE Layers
map.on('load', function (){
  map.addSource('ice_18000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_18000.json'
  });
  map.addLayer(
    {
    'id':'ice_18000',
    'type':'fill',
    'source':'ice_18000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_18000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_18000.json'
  });
  map.addLayer(
    {
    'id':'lakes_18000',
    'type':'fill',
    'source':'lakes_18000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//17500 BCE Layers
map.on('load', function (){
  map.addSource('ice_17500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_17500.json'
  });
  map.addLayer(
    {
    'id':'ice_17500',
    'type':'fill',
    'source':'ice_17500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_17500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_17500.json'
  });
  map.addLayer(
    {
    'id':'lakes_17500',
    'type':'fill',
    'source':'lakes_17500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//17000 BCE Layers
map.on('load', function (){
  map.addSource('ice_17000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_17000.json'
  });
  map.addLayer(
    {
    'id':'ice_17000',
    'type':'fill',
    'source':'ice_17000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_17000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_17000.json'
  });
  map.addLayer(
    {
    'id':'lakes_17000',
    'type':'fill',
    'source':'lakes_17000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//16500 BCE Layers
map.on('load', function (){
  map.addSource('ice_16500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_16500.json'
  });
  map.addLayer(
    {
    'id':'ice_16500',
    'type':'fill',
    'source':'ice_16500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_16500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_16500.json'
  });
  map.addLayer(
    {
    'id':'lakes_16500',
    'type':'fill',
    'source':'lakes_16500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//16000 BCE Layers
map.on('load', function (){
  map.addSource('ice_16000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_16000.json'
  });
  map.addLayer(
    {
    'id':'ice_16000',
    'type':'fill',
    'source':'ice_16000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_16000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_16000.json'
  });
  map.addLayer(
    {
    'id':'lakes_16000',
    'type':'fill',
    'source':'lakes_16000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//15500 BCE Layers
map.on('load', function (){
  map.addSource('ice_15500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_15500.json'
  });
  map.addLayer(
    {
    'id':'ice_15500',
    'type':'fill',
    'source':'ice_15500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_15500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_15500.json'
  });
  map.addLayer(
    {
    'id':'lakes_15500',
    'type':'fill',
    'source':'lakes_15500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//15000 BCE Layers
map.on('load', function (){
  map.addSource('ice_15000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_15000.json'
  });
  map.addLayer(
    {
    'id':'ice_15000',
    'type':'fill',
    'source':'ice_15000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_15000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_15000.json'
  });
  map.addLayer(
    {
    'id':'lakes_15000',
    'type':'fill',
    'source':'lakes_15000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//14500 BCE Layers
map.on('load', function (){
  map.addSource('ice_14500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_14500.json'
  });
  map.addLayer(
    {
    'id':'ice_14500',
    'type':'fill',
    'source':'ice_14500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_14500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_14500.json'
  });
  map.addLayer(
    {
    'id':'lakes_14500',
    'type':'fill',
    'source':'lakes_14500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//14000 BCE Layers
map.on('load', function (){
  map.addSource('ice_14000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_14000.json'
  });
  map.addLayer(
    {
    'id':'ice_14000',
    'type':'fill',
    'source':'ice_14000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_14000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_14000.json'
  });
  map.addLayer(
    {
    'id':'lakes_14000',
    'type':'fill',
    'source':'lakes_14000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//13500 BCE Layers
map.on('load', function (){
  map.addSource('ice_13500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_13500.json'
  });
  map.addLayer(
    {
    'id':'ice_13500',
    'type':'fill',
    'source':'ice_13500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_13500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_13500.json'
  });
  map.addLayer(
    {
    'id':'lakes_13500',
    'type':'fill',
    'source':'lakes_13500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//13000 BCE Layers
map.on('load', function (){
  map.addSource('ice_13000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_13000.json'
  });
  map.addLayer(
    {
    'id':'ice_13000',
    'type':'fill',
    'source':'ice_13000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_13000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_13000.json'
  });
  map.addLayer(
    {
    'id':'lakes_13000',
    'type':'fill',
    'source':'lakes_13000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//12500 BCE Layers
map.on('load', function (){
  map.addSource('ice_12500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_12500.json'
  });
  map.addLayer(
    {
    'id':'ice_12500',
    'type':'fill',
    'source':'ice_12500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_12500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_12500.json'
  });
  map.addLayer(
    {
    'id':'lakes_12500',
    'type':'fill',
    'source':'lakes_12500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//12000 BCE Layers
map.on('load', function (){
  map.addSource('ice_12000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_12000.json'
  });
  map.addLayer(
    {
    'id':'ice_12000',
    'type':'fill',
    'source':'ice_12000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_12000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_12000.json'
  });
  map.addLayer(
    {
    'id':'lakes_12000',
    'type':'fill',
    'source':'lakes_12000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//11500 BCE Layers
map.on('load', function (){
  map.addSource('ice_11500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_11500.json'
  });
  map.addLayer(
    {
    'id':'ice_11500',
    'type':'fill',
    'source':'ice_11500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_11500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_11500.json'
  });
  map.addLayer(
    {
    'id':'lakes_11500',
    'type':'fill',
    'source':'lakes_11500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//11000 BCE Layers
map.on('load', function (){
  map.addSource('ice_11000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_11000.json'
  });
  map.addLayer(
    {
    'id':'ice_11000',
    'type':'fill',
    'source':'ice_11000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_11000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_11000.json'
  });
  map.addLayer(
    {
    'id':'lakes_11000',
    'type':'fill',
    'source':'lakes_11000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//10500 BCE Layers
map.on('load', function (){
  map.addSource('ice_10500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_10500.json'
  });
  map.addLayer(
    {
    'id':'ice_10500',
    'type':'fill',
    'source':'ice_10500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_10500', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_10500.json'
  });
  map.addLayer(
    {
    'id':'lakes_10500',
    'type':'fill',
    'source':'lakes_10500',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

//10000 BCE Layers
map.on('load', function (){
  map.addSource('ice_10000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/ice_10000.json'
  });
  map.addLayer(
    {
    'id':'ice_10000',
    'type':'fill',
    'source':'ice_10000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#ffffff'
    }
  });
});

map.on('load', function (){
  map.addSource('lakes_10000', {
  type: 'geojson',
  data: 'https://raw.githubusercontent.com/hrharo/hrharo.github.io/master/capstone/data/lakes_10000.json'
  });
  map.addLayer(
    {
    'id':'lakes_10000',
    'type':'fill',
    'source':'lakes_10000',
    'layout':{
      'visibility':'none'
    },
    'paint':{
      'fill-color':'#75cff0'
    }
  });
});

var chapters = {
    'lgm-18000': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-17500': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-17000': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-16500': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-16000': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-15500': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-15000': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-14500': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-14000': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-13500': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-13000': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-12500': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-12000': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-11500': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-11000': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-10500': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
    'lgm-10000': {
        bearing: 0,
        center: [-122.335167, 47.608013],
        zoom: 3,
        pitch: 20
    },
};

// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            setActiveLayer(chapterName);
            break;
        }
    }
};

var activeChapterName = 'lgm-18000';
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;

    map.flyTo(chapters[chapterName]);

    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');

    activeChapterName = chapterName;
}

function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}

function setActiveLayer(activeChapterName){
    if (activeChapterName === 'lgm-18000') {
      map.setLayoutProperty('ice_18000', 'visibility', 'visible');
      map.setLayoutProperty('lakes_18000', 'visibility', 'visible');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none');
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-17500') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'visible');
      map.setLayoutProperty('lakes_17500', 'visibility', 'visible');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none');
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-17000') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'visible');
      map.setLayoutProperty('lakes_17000', 'visibility', 'visible');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none');
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-16500') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'visible');
      map.setLayoutProperty('lakes_16500', 'visibility', 'visible');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none');
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-16000') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'visible');
      map.setLayoutProperty('lakes_16000', 'visibility', 'visible');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none');
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-15500') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'visible');
      map.setLayoutProperty('lakes_15500', 'visibility', 'visible');
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-15000') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none');
      map.setLayoutProperty('ice_15000', 'visibility', 'visible');
      map.setLayoutProperty('lakes_15000', 'visibility', 'visible');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-14500') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none');
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'visible');
      map.setLayoutProperty('lakes_14500', 'visibility', 'visible');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-14000') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none')
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'visible');
      map.setLayoutProperty('lakes_14000', 'visibility', 'visible');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-13500') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none')
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'visible');
      map.setLayoutProperty('lakes_13500', 'visibility', 'visible');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-13000') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none')
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'visible');
      map.setLayoutProperty('ice_13000', 'visibility', 'visible');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-12500') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none')
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'visible');
      map.setLayoutProperty('lakes_12500', 'visibility', 'visible');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-12000') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none')
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'visible');
      map.setLayoutProperty('lakes_12000', 'visibility', 'visible');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-11500') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none')
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'visible');
      map.setLayoutProperty('lakes_11500', 'visibility', 'visible');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-11000') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none')
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'visible');
      map.setLayoutProperty('lakes_11000', 'visibility', 'visible');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-10500') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none')
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'visible');
      map.setLayoutProperty('ice_10500', 'visibility', 'visible');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'none');
    };
    if (activeChapterName === 'lgm-10000') {
      map.setLayoutProperty('ice_18000', 'visibility', 'none');
      map.setLayoutProperty('lakes_18000', 'visibility', 'none');
      map.setLayoutProperty('ice_17500', 'visibility', 'none');
      map.setLayoutProperty('lakes_17500', 'visibility', 'none');
      map.setLayoutProperty('ice_17000', 'visibility', 'none');
      map.setLayoutProperty('lakes_17000', 'visibility', 'none');
      map.setLayoutProperty('ice_16500', 'visibility', 'none');
      map.setLayoutProperty('lakes_16500', 'visibility', 'none');
      map.setLayoutProperty('ice_16000', 'visibility', 'none');
      map.setLayoutProperty('lakes_16000', 'visibility', 'none');
      map.setLayoutProperty('ice_15500', 'visibility', 'none');
      map.setLayoutProperty('lakes_15500', 'visibility', 'none')
      map.setLayoutProperty('ice_15000', 'visibility', 'none');
      map.setLayoutProperty('lakes_15000', 'visibility', 'none');
      map.setLayoutProperty('ice_14500', 'visibility', 'none');
      map.setLayoutProperty('lakes_14500', 'visibility', 'none');
      map.setLayoutProperty('ice_14000', 'visibility', 'none');
      map.setLayoutProperty('lakes_14000', 'visibility', 'none');
      map.setLayoutProperty('ice_13500', 'visibility', 'none');
      map.setLayoutProperty('lakes_13500', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_13000', 'visibility', 'none');
      map.setLayoutProperty('ice_12500', 'visibility', 'none');
      map.setLayoutProperty('lakes_12500', 'visibility', 'none');
      map.setLayoutProperty('ice_12000', 'visibility', 'none');
      map.setLayoutProperty('lakes_12000', 'visibility', 'none');
      map.setLayoutProperty('ice_11500', 'visibility', 'none');
      map.setLayoutProperty('lakes_11500', 'visibility', 'none');
      map.setLayoutProperty('ice_11000', 'visibility', 'none');
      map.setLayoutProperty('lakes_11000', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10500', 'visibility', 'none');
      map.setLayoutProperty('ice_10000', 'visibility', 'visible');
      map.setLayoutProperty('ice_10000', 'visibility', 'visible');
    };
}

</script>

</body>
</html>
